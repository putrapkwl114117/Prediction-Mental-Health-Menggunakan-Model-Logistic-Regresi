{% extends "base.html" %} {% block content %}
<div class="modal fade" id="messageModal" tabindex="-1" role="dialog" aria-labelledby="messageModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="messageModalLabel">Pesan</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="modalMessageBody">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
            </div>
        </div>
    </div>
</div>

<div class="form container mt-2">
    <h2 class="text-center mb-4">Formulir Penilaian Kesehatan Mental</h2>
    <form action="{{ url_for('index') }}" method="POST">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-6">
                <div class="mb-3">
                    <label for="anxiety_level">1. Seberapa sering Anda merasa cemas?</label>
                    <select id="anxiety_level" name="anxiety_level" class="form-control" required>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="self_esteem">2. Bagaimana Anda menilai kepercayaan diri Anda?</label>
                    <select id="self_esteem" name="self_esteem" class="form-control" required>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="mental_health_history">3. Apakah Anda memiliki riwayat masalah kesehatan mental?</label>
                    <div class="d-flex ">
                        <div class="mr-4">
                            <input type="radio" id="mental_health_yes" name="mental_health_history" value="Ya"
                                required />
                            <label for="mental_health_yes">Ya</label>
                        </div>
                        <div class="mr-4">
                            <input type="radio" id="mental_health_no" name="mental_health_history" value="Tidak"
                                required />
                            <label for="mental_health_no">Tidak</label>
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <label for="depression">4. Seberapa sering Anda merasa tertekan atau depresi?</label>
                    <select id="depression" name="depression" class="form-control" required>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="headache">5. Seberapa sering Anda mengalami sakit kepala?</label>
                    <select id="headache" name="headache" class="form-control" required>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="blood_pressure">6. Bagaimana tekanan darah Anda biasanya?</label>
                    <select id="blood_pressure" name="blood_pressure" class="form-control" required>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                </div>
            </div>
            <div class="col-md-6 text-center text-md-start" data-aos="fade-up">
                <img src="{{ url_for('static', filename='img/logo_screning.png') }}" alt="" width="80%">
            </div>
        </div>

        <div class="row d-flex flex-column justify-content-center my-5">
            <div class="">
                <h4 class="text-center mb-4">Pilih jawaban yang paling menggambarkan jati dirimu.</h4>
            </div>
            <div class="row hint d-flex justify-content-center justify-content-md-around ">
                <div class="d-flex flex-column justify-content-center align-items-center p-2">
                    <div class="circle a"></div>
                    <p>Tidak Setuju</p>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-center p-2">
                    <div class="circle b"></div>
                    <p>Kurang Setuju</p>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-center p-2">
                    <div class="circle c"></div>
                    <p>Cukup Netral</p>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-center p-2">
                    <div class="circle d"></div>
                    <p>Netral</p>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-center p-2">
                    <div class="circle e"></div>
                    <p>Setuju</p>
                </div>
                <div class="d-flex flex-column justify-content-center align-items-center p-2">
                    <div class="circle f"></div>
                    <p>Sangat Setuju</p>
                </div>
            </div>

            <div class="row d-flex justify-content-center align-items-center mt-5 mb-5">
                <div class="col-md-4 text-center text-md-end d-none d-md-block" data-aos="fade-up">
                    <img src="{{ url_for('static', filename='img/guy_character_thinking.png') }}" alt="" width="80%">
                </div>
                <div class="col-md-8 mx-3 mx-md-0">
                    <div class="mb-3">
                        <label for="sleep_quality">7. Bagaimana kualitas tidur Anda secara keseluruhan?</label>
                        <input type="number" id="sleep_quality" name="sleep_quality" class="form-control"
                            placeholder="Skala 0-5" min="0" max="5" required />
                    </div>

                    <div class="mb-3">
                        <label for="respiratory_issue">8. Apakah Anda pernah mengalami masalah pernapasan?</label>
                        <div class="d-flex radio-btn justify-content-around">
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q0" type="radio" id="respiratory_issue_0" name="quest8"
                                    value="0" required>
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q1" type="radio" id="respiratory_issue_1" name="quest8"
                                    value="1">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q2" type="radio" id="respiratory_issue_2" name="quest8"
                                    value="2">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q3" type="radio" id="respiratory_issue_3" name="quest8"
                                    value="3">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q4" type="radio" id="respiratory_issue_4" name="quest8"
                                    value="4">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q5" type="radio" id="respiratory_issue_5" name="quest8"
                                    value="5">
                            </div>
                        </div>
                    </div>

                    <div class="mt-5 mb-3">
                        <label for="noise_level">9. Seberapa berisik lingkungan tempat tinggal Anda?</label>
                        <input type="number" id="noise_level" name="noise_level" class="form-control"
                            placeholder="Skala 0-5" min="0" max="5" required />
                    </div>

                    <div class="my-3">
                        <label for="safety">10. Bagaimana kondisi tempat tinggal Anda?</label>
                        <input type="number" id="safety" name="safety" class="form-control" placeholder="Skala 0-5"
                            min=" 0" max="5" required />
                    </div>

                    <div class="mb-0 mb-md-3">
                        <label for="safety_environment">11. Apakah Anda merasa aman di lingkungan Anda?</label>
                        <div class="d-flex radio-btn justify-content-around">
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q0" type="radio" id="safety_environment_0" name="quest11"
                                    value="0">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q1" type="radio" id="safety_environment_1" name="quest11"
                                    value="1">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q2" type="radio" id="safety_environment_2" name="quest11"
                                    value="2">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q3" type="radio" id="safety_environment_3" name="quest11"
                                    value="3">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q4" type="radio" id="safety_environment_4" name="quest11"
                                    value="4">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q5" type="radio" id="safety_environment_5" name="quest11"
                                    value="5">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row d-flex justify-content-center  align-items-center  mt-2 mt-md-5 mb-5">
                <div class="col-md-8 mx-3 mx-md-0">
                    <div class="mb-3">
                        <label for="">12. Apakah Anda memiliki akses yang cukup untuk kebutuhan dasar?</label>
                        <div class="d-flex radio-btn d-flex justify-content-around">
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q0" type="radio" id="basic_needs_access_0" name="quest12"
                                    value="0">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q1" type="radio" id="basic_needs_access_1" name="quest12"
                                    value="1">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q2" type="radio" id="basic_needs_access_2" name="quest12"
                                    value="2">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q3" type="radio" id="basic_needs_access_3" name="quest12"
                                    value="3">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q4" type="radio" id="basic_needs_access_4" name="quest12"
                                    value="4">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q5" type="radio" id="basic_needs_access_5" name="quest12"
                                    value="5">
                            </div>
                        </div>
                    </div>

                    <div class="mt-5 mb-3">
                        <label for="academic_performance">13. Bagaimana Anda menilai performa akademik Anda?</label>
                        <input type="number" id="academic_performance" name="academic_performance" class="form-control"
                            placeholder="Skala 0-5" min="0" max="5" required />
                    </div>

                    <div class="my-3">
                        <label for="study_load">14. Bagaimana beban studi atau pekerjaan Anda saat ini?</label>
                        <input type="number" id="study_load" name="study_load" class="form-control"
                            placeholder="Skala 0-5" min="0" max="5" required />
                    </div>

                    <div class="my-3">
                        <label for="relationship_with_supervisor">15. Bagaimana hubungan Anda dengan pengajar atau
                            atasan?</label>
                        <input type="number" id="relationship_with_supervisor" name="relationship_with_supervisor"
                            class="form-control" placeholder="Skala 0-5" min="0" max="5" required />
                    </div>

                    <div class="mb-0 mb-md-3">
                        <label for="">16. Apakah Anda merasa khawatir tentang karir masa depan Anda?</label>
                        <div class="d-flex radio-btn d-flex justify-content-around">
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q0" type="radio" id="career_concern_0" name="quest17"
                                    value="0">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q1" type="radio" id="career_concern_1" name="quest17"
                                    value="1">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q2" type="radio" id="career_concern_2" name="quest17"
                                    value="2">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q3" type="radio" id="career_concern_3" name="quest17"
                                    value="3">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q4" type="radio" id="career_concern_4" name="quest17"
                                    value="4">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q5" type="radio" id="career_concern_5" name="quest17"
                                    value="5">
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-4 text-center text-md-end d-none d-md-block" data-aos="fade-up">
                    <img src="{{ url_for('static', filename='img/nice_guy_pointing_finger.png') }}" alt="" width="80%"
                        style="transform: scaleX(-1);">
                </div>
            </div>

            <div class=" row d-flex justify-content-center  align-items-center  mt-2 mt-md-5 mb-5">
                <div class="col-md-4 text-center text-md-end d-none d-md-block">
                    <img src="{{ url_for('static', filename='img/women.png') }}" alt="" width="80%" data-aos="fade-up">
                </div>

                <div class="col-md-8 mx-3 mx-md-0">
                    <div class="my-3">
                        <label for="work_load">17. Apakah Anda memiliki dukungan sosial yang memadai?</label>
                        <input type="number" id="work_load" name="work_load" class="form-control"
                            placeholder="Skala 0-3" min="0" max="3" required />
                    </div>

                    <div class="mb-5">
                        <label for="">18. Apakah Anda sering merasa mendapat tekanan dari teman sebaya?</label>
                        <div class="d-flex radio-btn d-flex justify-content-around">
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q0" type="radio" id="peer_pressure_0" name="quest19"
                                    value="0">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q1" type="radio" id="peer_pressure_1" name="quest19"
                                    value="1">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q2" type="radio" id="peer_pressure_2" name="quest19"
                                    value="2">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q3" type="radio" id="peer_pressure_3" name="quest19"
                                    value="3">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q4" type="radio" id="peer_pressure_4" name="quest19"
                                    value="4">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q5" type="radio" id="peer_pressure_5" name="quest19"
                                    value="5">
                            </div>
                        </div>
                    </div>

                    <div class="my-3">
                        <label for="extracurricular_activity">19. Seberapa aktif Anda dalam kegiatan
                            ekstrakurikuler?</label>
                        <input type="number" id="extracurricular_activity" name="extracurricular_activity"
                            class="form-control" placeholder="Skala 0-5" min="0" max="5" required />
                    </div>

                    <div class="mb-3">
                        <label for="">20. Apakah Anda pernah mengalami perundungan?</label>
                        <div class="d-flex radio-btn d-flex justify-content-around">
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q0" type="radio" id="bullying_0" name="quest21"
                                    value="0">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q1" type="radio" id="bullying_1" name="quest21"
                                    value="1">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q2" type="radio" id="bullying_2" name="quest21"
                                    value="2">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q3" type="radio" id="bullying_3" name="quest21"
                                    value="3">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q4" type="radio" id="bullying_4" name="quest21"
                                    value="4">
                            </div>
                            <div class="form-check d-flex flex-column align-items-center">
                                <input class="form-check-input q5" type="radio" id="bullying_5" name="quest21"
                                    value="5">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mb-5">
            <button type="submit" class="btn btn-primary my-4 send">Kirim</button>
        </div>
    </form>
</div>

<!-- modal successs -->
<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content custom-modal-bg">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Mensafe</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% for category, message in messages %}
                {% if category == 'prediction' %}
                <div class="level d-flex align-items-center">
                    <div class="img-level">
                        <img src="{{ url_for('static', filename='img/' ~ message.image) }}" alt="" width="140">
                    </div>
                    <div class="level-des">
                        <p>Level Stress Anda tergolong <strong>"Level {{ message.level }}"</strong></p>
                        <p>{{ message.message }}</p>
                    </div>
                </div>
                {% endif %}
                {% if category == 'danger' %}
                <div class="alert alert-danger">{{ message }}</div>
                {% endif %}
                {% endfor %}
                {% endwith %}
            </div>
            <div class="modal-footer">
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% for category, message in messages %}
                {% if category == 'prediction' %}

                {% if message.level == 0 %}
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
                {% endif %}
                {% if message.level in [1, 2] %}
                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                    <i class="bi bi-chat-dots"></i> Konsultasi
                </button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
                {% endif %}
                {% endif %}
                {% endfor %}
                {% endwith %}
            </div>
        </div>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
      const modal = new bootstrap.Modal(document.getElementById('exampleModal2'), {});
        if (document.querySelector('.level') || document.querySelector('.alert-danger')) {
            modal.show();
          }
        });
</script>


{% endblock %}